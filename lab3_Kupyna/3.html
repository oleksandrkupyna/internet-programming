<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Завдання 3 – Alt+Shift</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
  <div class="bg-white rounded-lg shadow p-6 w-full max-w-3xl text-center">
    <h1 class="text-2xl font-bold text-blue-600 mb-4">UA/EN Клавіатура</h1>
    <textarea id="display" rows="3" class="border rounded w-full p-2 mb-4"></textarea>
    <div id="keyboard" class="space-y-2"></div>
    <button onclick="toggleLayout()" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Alt+Shift</button>
    <button onclick="clean()" class="mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded">Очистити поле</button>
  </div>
    <button onclick="
        if (window.history.length > 1) {
            history.back();
        } else {
            window.location.href='../'; 
        }"
    class="fixed bottom-6 right-6 w-16 h-16 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-lg hover:bg-blue-700 transition">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" class="w-8 h-8">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
    </button>
  <script>
    const layouts = {
      UA: {
        digits: ['1','2','3','4','5','6','7','8','9','0'],
        row1: ['й','ц','у','к','е','н','г','ш','щ','з','х','ї'],
        row2: ['ф','і','в','а','п','р','о','л','д','ж','є'],
        row3: ['я','ч','с','м','и','т','ь','б','ю','\''],
        row4: ['Пробіл']
      },
      EN: {
        digits: ['1','2','3','4','5','6','7','8','9','0'],
        row1: ['q','w','e','r','t','y','u','i','o','p','[',']'],
        row2: ['a','s','d','f','g','h','j','k','l',';','\''],
        row3: ['z','x','c','v','b','n','m',',','.','\\'],
        row4: ['Space']
      }
    };
    let currentLang = 'UA';
    const keyboardDiv = document.getElementById('keyboard');
    const display = document.getElementById('display');

    function createRow(keys, className = 'bg-gray-200 hover:bg-gray-300 p-2 rounded w-8', isSpace = false) {
      const row = document.createElement('div');
      row.className = 'flex flex-wrap gap-2 justify-center';
      keys.forEach(key => {
        const btn = document.createElement('button');
        btn.textContent = key;
        btn.className = className;
        btn.onclick = () => {
          const cursorPos = display.selectionStart;
          const textBefore = display.value.substring(0, cursorPos);
          const textAfter = display.value.substring(display.selectionEnd);
          display.value = textBefore + (isSpace ? ' ' : key) + textAfter;
          display.focus();
          display.setSelectionRange(cursorPos + 1, cursorPos + 1);
        };
        row.appendChild(btn);
      });
      return row;
    }

    function createKeyboard() {
      keyboardDiv.innerHTML = '';
      const layout = layouts[currentLang];
      keyboardDiv.appendChild(createRow(layout.digits));
      keyboardDiv.appendChild(createRow(layout.row1));
      keyboardDiv.appendChild(createRow(layout.row2));
      keyboardDiv.appendChild(createRow(layout.row3));
      keyboardDiv.appendChild(createRow(layout.row4, 'bg-gray-200 hover:bg-gray-300 p-2 rounded w-48', true));
    }

    function toggleLayout() {
      currentLang = currentLang === 'UA' ? 'EN' : 'UA';
      createKeyboard();
    }
    function clean() {
      display.value = '';
      display.focus();
    }
    createKeyboard();
    display.focus();
  </script>
</body>
</html>